montageDefine("d5e778e","mime",{dependencies:["path","fs","./types.json"],factory:function(e,i,t){function s(){this.types=Object.create(null),this.extensions=Object.create(null)}e("path");var a=e("fs");s.prototype.define=function(e){for(var i in e){for(var t=e[i],s=0;t.length>s;s++)process.env.DEBUG_MIME&&this.types[t]&&console.warn(this._loading.replace(/.*\//,""),'changes "'+t[s]+'" extension type from '+this.types[t]+" to "+i),this.types[t[s]]=i;this.extensions[i]||(this.extensions[i]=t[0])}},s.prototype.load=function(e){this._loading=e;var i={},t=a.readFileSync(e,"ascii"),s=t.split(/[\r\n]+/);s.forEach(function(e){var t=e.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);i[t.shift()]=t}),this.define(i),this._loading=null},s.prototype.lookup=function(e,i){var t=e.replace(/.*[\.\/\\]/,"").toLowerCase();return this.types[t]||i||this.default_type},s.prototype.extension=function(e){var i=e.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[i]};var u=new s;u.define(e("./types.json")),u.default_type=u.lookup("bin"),u.Mime=s,u.charsets={lookup:function(e,i){return/^text\//.test(e)?"UTF-8":i}},t.exports=u}});