montageDefine("3d2b056","runtime/dependencies/gl-matrix",{dependencies:[],factory:function(t,e,n){var i=window;(function(t,a){"object"==typeof e?n.exports=a(i):"function"==typeof define&&define.amd?define([],function(){return a(t)}):a(t)})(this,function(t){"use strict";function e(t){return s=t}function n(){return s="undefined"!=typeof Float32Array?Float32Array:Array}var i=1e-6,a={};(function(){if("undefined"!=typeof Float32Array){var t=new Float32Array(1),e=new Int32Array(t.buffer);a.invsqrt=function(n){var i=.5*n;t[0]=n;var a=1.5;e[0]=1597463007-(e[0]>>1);var s=t[0];return s*(a-i*s*s)}}else a.invsqrt=function(t){return 1/Math.sqrt(t)}})();var s=null;n();var r={};r.create=function(t){var e=new s(3);return t?(e[0]=t[0],e[1]=t[1],e[2]=t[2]):e[0]=e[1]=e[2]=0,e},r.createFrom=function(t,e,n){var i=new s(3);return i[0]=t,i[1]=e,i[2]=n,i},r.set=function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},r.equal=function(t,e){return t===e||i>Math.abs(t[0]-e[0])&&i>Math.abs(t[1]-e[1])&&i>Math.abs(t[2]-e[2])},r.add=function(t,e,n){return n&&t!==n?(n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n):(t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],t)},r.subtract=function(t,e,n){return n&&t!==n?(n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n):(t[0]-=e[0],t[1]-=e[1],t[2]-=e[2],t)},r.multiply=function(t,e,n){return n&&t!==n?(n[0]=t[0]*e[0],n[1]=t[1]*e[1],n[2]=t[2]*e[2],n):(t[0]*=e[0],t[1]*=e[1],t[2]*=e[2],t)},r.negate=function(t,e){return e||(e=t),e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},r.scale=function(t,e,n){return n&&t!==n?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n):(t[0]*=e,t[1]*=e,t[2]*=e,t)},r.normalize=function(t,e){e||(e=t);var n=t[0],i=t[1],a=t[2],s=Math.sqrt(n*n+i*i+a*a);return s?1===s?(e[0]=n,e[1]=i,e[2]=a,e):(s=1/s,e[0]=n*s,e[1]=i*s,e[2]=a*s,e):(e[0]=0,e[1]=0,e[2]=0,e)},r.cross=function(t,e,n){n||(n=t);var i=t[0],a=t[1],s=t[2],r=e[0],o=e[1],l=e[2];return n[0]=a*l-s*o,n[1]=s*r-i*l,n[2]=i*o-a*r,n},r.length=function(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)},r.squaredLength=function(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},r.direction=function(t,e,n){n||(n=t);var i=t[0]-e[0],a=t[1]-e[1],s=t[2]-e[2],r=Math.sqrt(i*i+a*a+s*s);return r?(r=1/r,n[0]=i*r,n[1]=a*r,n[2]=s*r,n):(n[0]=0,n[1]=0,n[2]=0,n)},r.lerp=function(t,e,n,i){return i||(i=t),i[0]=t[0]+n*(e[0]-t[0]),i[1]=t[1]+n*(e[1]-t[1]),i[2]=t[2]+n*(e[2]-t[2]),i},r.dist=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+i*i+a*a)};var o=null,l=new s(4);r.unproject=function(t,e,n,i,a){a||(a=t),o||(o=g.create());var s=o,r=l;return r[0]=2*(t[0]-i[0])/i[2]-1,r[1]=2*(t[1]-i[1])/i[3]-1,r[2]=2*t[2]-1,r[3]=1,g.multiply(n,e,s),g.inverse(s)?(g.multiplyVec4(s,r),0===r[3]?null:(a[0]=r[0]/r[3],a[1]=r[1]/r[3],a[2]=r[2]/r[3],a)):null};var c=r.createFrom(1,0,0),h=r.createFrom(0,1,0),p=r.createFrom(0,0,1),u=r.create();r.rotationTo=function(t,e,n){n||(n=m.create());var i=r.dot(t,e),a=u;if(i>=1)m.set(f,n);else if(1e-6-1>i)r.cross(c,t,a),1e-6>r.length(a)&&r.cross(h,t,a),1e-6>r.length(a)&&r.cross(p,t,a),r.normalize(a),m.fromAngleAxis(Math.PI,a,n);else{var s=Math.sqrt(2*(1+i)),o=1/s;r.cross(t,e,a),n[0]=a[0]*o,n[1]=a[1]*o,n[2]=a[2]*o,n[3]=.5*s,m.normalize(n)}return n[3]>1?n[3]=1:-1>n[3]&&(n[3]=-1),n},r.str=function(t){return"["+t[0]+", "+t[1]+", "+t[2]+"]"};var d={};d.create=function(t){var e=new s(9);return t?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8]):e[0]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=0,e},d.createFrom=function(t,e,n,i,a,r,o,l,c){var h=new s(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=i,h[4]=a,h[5]=r,h[6]=o,h[7]=l,h[8]=c,h},d.determinant=function(t){var e=t[0],n=t[1],i=t[2],a=t[3],s=t[4],r=t[5],o=t[6],l=t[7],c=t[8];return e*(c*s-r*l)+n*(-c*a+r*o)+i*(l*a-s*o)},d.inverse=function(t,e){var n,i=t[0],a=t[1],s=t[2],r=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],u=p*o-l*h,g=-p*r+l*c,m=h*r-o*c,f=i*u+a*g+s*m;return f?(n=1/f,e||(e=d.create()),e[0]=u*n,e[1]=(-p*a+s*h)*n,e[2]=(l*a-s*o)*n,e[3]=g*n,e[4]=(p*i-s*c)*n,e[5]=(-l*i+s*r)*n,e[6]=m*n,e[7]=(-h*i+a*c)*n,e[8]=(o*i-a*r)*n,e):null},d.multiply=function(t,e,n){n||(n=t);var i=t[0],a=t[1],s=t[2],r=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],u=e[0],d=e[1],g=e[2],m=e[3],f=e[4],v=e[5],L=e[6],y=e[7],C=e[8];return n[0]=u*i+d*r+g*c,n[1]=u*a+d*o+g*h,n[2]=u*s+d*l+g*p,n[3]=m*i+f*r+v*c,n[4]=m*a+f*o+v*h,n[5]=m*s+f*l+v*p,n[6]=L*i+y*r+C*c,n[7]=L*a+y*o+C*h,n[8]=L*s+y*l+C*p,n},d.multiplyVec2=function(t,e,n){n||(n=e);var i=e[0],a=e[1];return n[0]=i*t[0]+a*t[3]+t[6],n[1]=i*t[1]+a*t[4]+t[7],n},d.multiplyVec3=function(t,e,n){n||(n=e);var i=e[0],a=e[1],s=e[2];return n[0]=i*t[0]+a*t[3]+s*t[6],n[1]=i*t[1]+a*t[4]+s*t[7],n[2]=i*t[2]+a*t[5]+s*t[8],n},d.set=function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},d.equal=function(t,e){return t===e||i>Math.abs(t[0]-e[0])&&i>Math.abs(t[1]-e[1])&&i>Math.abs(t[2]-e[2])&&i>Math.abs(t[3]-e[3])&&i>Math.abs(t[4]-e[4])&&i>Math.abs(t[5]-e[5])&&i>Math.abs(t[6]-e[6])&&i>Math.abs(t[7]-e[7])&&i>Math.abs(t[8]-e[8])},d.identity=function(t){return t||(t=d.create()),t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},d.transpose=function(t,e){if(!e||t===e){var n=t[1],i=t[2],a=t[5];return t[1]=t[3],t[2]=t[6],t[3]=n,t[5]=t[7],t[6]=i,t[7]=a,t}return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],e},d.toMat4=function(t,e){return e||(e=g.create()),e[15]=1,e[14]=0,e[13]=0,e[12]=0,e[11]=0,e[10]=t[8],e[9]=t[7],e[8]=t[6],e[7]=0,e[6]=t[5],e[5]=t[4],e[4]=t[3],e[3]=0,e[2]=t[2],e[1]=t[1],e[0]=t[0],e},d.str=function(t){return"["+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+"]"};var g={};g.create=function(t){var e=new s(16);return t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e},g.createFrom=function(t,e,n,i,a,r,o,l,c,h,p,u,d,g,m,f){var v=new s(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=i,v[4]=a,v[5]=r,v[6]=o,v[7]=l,v[8]=c,v[9]=h,v[10]=p,v[11]=u,v[12]=d,v[13]=g,v[14]=m,v[15]=f,v},g.set=function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},g.equal=function(t,e){return t===e||i>Math.abs(t[0]-e[0])&&i>Math.abs(t[1]-e[1])&&i>Math.abs(t[2]-e[2])&&i>Math.abs(t[3]-e[3])&&i>Math.abs(t[4]-e[4])&&i>Math.abs(t[5]-e[5])&&i>Math.abs(t[6]-e[6])&&i>Math.abs(t[7]-e[7])&&i>Math.abs(t[8]-e[8])&&i>Math.abs(t[9]-e[9])&&i>Math.abs(t[10]-e[10])&&i>Math.abs(t[11]-e[11])&&i>Math.abs(t[12]-e[12])&&i>Math.abs(t[13]-e[13])&&i>Math.abs(t[14]-e[14])&&i>Math.abs(t[15]-e[15])},g.identity=function(t){return t||(t=g.create()),t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},g.transpose=function(t,e){if(!e||t===e){var n=t[1],i=t[2],a=t[3],s=t[6],r=t[7],o=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=n,t[6]=t[9],t[7]=t[13],t[8]=i,t[9]=s,t[11]=t[14],t[12]=a,t[13]=r,t[14]=o,t}return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},g.determinant=function(t){var e=t[0],n=t[1],i=t[2],a=t[3],s=t[4],r=t[5],o=t[6],l=t[7],c=t[8],h=t[9],p=t[10],u=t[11],d=t[12],g=t[13],m=t[14],f=t[15];return d*h*o*a-c*g*o*a-d*r*p*a+s*g*p*a+c*r*m*a-s*h*m*a-d*h*i*l+c*g*i*l+d*n*p*l-e*g*p*l-c*n*m*l+e*h*m*l+d*r*i*u-s*g*i*u-d*n*o*u+e*g*o*u+s*n*m*u-e*r*m*u-c*r*i*f+s*h*i*f+c*n*o*f-e*h*o*f-s*n*p*f+e*r*p*f},g.inverse=function(t,e){e||(e=t);var n,i=t[0],a=t[1],s=t[2],r=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],u=t[9],d=t[10],g=t[11],m=t[12],f=t[13],v=t[14],L=t[15],y=i*l-a*o,C=i*c-s*o,_=i*h-r*o,x=a*c-s*l,w=a*h-r*l,b=s*h-r*c,M=p*f-u*m,z=p*v-d*m,S=p*L-g*m,E=u*v-d*f,T=u*L-g*f,B=d*L-g*v,O=y*B-C*T+_*E+x*S-w*z+b*M;return O?(n=1/O,e[0]=(l*B-c*T+h*E)*n,e[1]=(-a*B+s*T-r*E)*n,e[2]=(f*b-v*w+L*x)*n,e[3]=(-u*b+d*w-g*x)*n,e[4]=(-o*B+c*S-h*z)*n,e[5]=(i*B-s*S+r*z)*n,e[6]=(-m*b+v*_-L*C)*n,e[7]=(p*b-d*_+g*C)*n,e[8]=(o*T-l*S+h*M)*n,e[9]=(-i*T+a*S-r*M)*n,e[10]=(m*w-f*_+L*y)*n,e[11]=(-p*w+u*_-g*y)*n,e[12]=(-o*E+l*z-c*M)*n,e[13]=(i*E-a*z+s*M)*n,e[14]=(-m*x+f*C-v*y)*n,e[15]=(p*x-u*C+d*y)*n,e):null},g.toRotationMat=function(t,e){return e||(e=g.create()),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},g.toMat3=function(t,e){return e||(e=d.create()),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},g.toInverseMat3=function(t,e){var n,i=t[0],a=t[1],s=t[2],r=t[4],o=t[5],l=t[6],c=t[8],h=t[9],p=t[10],u=p*o-l*h,g=-p*r+l*c,m=h*r-o*c,f=i*u+a*g+s*m;return f?(n=1/f,e||(e=d.create()),e[0]=u*n,e[1]=(-p*a+s*h)*n,e[2]=(l*a-s*o)*n,e[3]=g*n,e[4]=(p*i-s*c)*n,e[5]=(-l*i+s*r)*n,e[6]=m*n,e[7]=(-h*i+a*c)*n,e[8]=(o*i-a*r)*n,e):null},g.multiply=function(t,e,n){n||(n=t);var i=t[0],a=t[1],s=t[2],r=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],u=t[9],d=t[10],g=t[11],m=t[12],f=t[13],v=t[14],L=t[15],y=e[0],C=e[1],_=e[2],x=e[3];return n[0]=y*i+C*o+_*p+x*m,n[1]=y*a+C*l+_*u+x*f,n[2]=y*s+C*c+_*d+x*v,n[3]=y*r+C*h+_*g+x*L,y=e[4],C=e[5],_=e[6],x=e[7],n[4]=y*i+C*o+_*p+x*m,n[5]=y*a+C*l+_*u+x*f,n[6]=y*s+C*c+_*d+x*v,n[7]=y*r+C*h+_*g+x*L,y=e[8],C=e[9],_=e[10],x=e[11],n[8]=y*i+C*o+_*p+x*m,n[9]=y*a+C*l+_*u+x*f,n[10]=y*s+C*c+_*d+x*v,n[11]=y*r+C*h+_*g+x*L,y=e[12],C=e[13],_=e[14],x=e[15],n[12]=y*i+C*o+_*p+x*m,n[13]=y*a+C*l+_*u+x*f,n[14]=y*s+C*c+_*d+x*v,n[15]=y*r+C*h+_*g+x*L,n},g.multiply3=function(t,e,n){n||(n=t);var i=t[0],a=t[1],s=t[2],r=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],u=t[9],d=t[10],g=t[11],m=t[12],f=t[13],v=t[14],L=t[15],y=e[0],C=e[1],_=e[2],x=0;return n[0]=y*i+C*o+_*p+x*m,n[1]=y*a+C*l+_*u+x*f,n[2]=y*s+C*c+_*d+x*v,n[3]=y*r+C*h+_*g+x*L,y=e[4],C=e[5],_=e[6],x=0,n[4]=y*i+C*o+_*p+x*m,n[5]=y*a+C*l+_*u+x*f,n[6]=y*s+C*c+_*d+x*v,n[7]=y*r+C*h+_*g+x*L,y=e[8],C=e[9],_=e[10],x=0,n[8]=y*i+C*o+_*p+x*m,n[9]=y*a+C*l+_*u+x*f,n[10]=y*s+C*c+_*d+x*v,n[11]=y*r+C*h+_*g+x*L,n},g.multiplyVec3=function(t,e,n){n||(n=e);var i=e[0],a=e[1],s=e[2];return n[0]=t[0]*i+t[4]*a+t[8]*s+t[12],n[1]=t[1]*i+t[5]*a+t[9]*s+t[13],n[2]=t[2]*i+t[6]*a+t[10]*s+t[14],n},g.rotateVec3=function(t,e,n){n||(n=e);var i=e[0],a=e[1],s=e[2];return n[0]=t[0]*i+t[4]*a+t[8]*s,n[1]=t[1]*i+t[5]*a+t[9]*s,n[2]=t[2]*i+t[6]*a+t[10]*s,n},g.multiplyVec4=function(t,e,n){n||(n=e);var i=e[0],a=e[1],s=e[2],r=e[3];return n[0]=t[0]*i+t[4]*a+t[8]*s+t[12]*r,n[1]=t[1]*i+t[5]*a+t[9]*s+t[13]*r,n[2]=t[2]*i+t[6]*a+t[10]*s+t[14]*r,n[3]=t[3]*i+t[7]*a+t[11]*s+t[15]*r,n},g.translate=function(t,e,n){var i,a,s,r,o,l,c,h,p,u,d,g,m=e[0],f=e[1],v=e[2];return n&&t!==n?(i=t[0],a=t[1],s=t[2],r=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],u=t[9],d=t[10],g=t[11],n[0]=i,n[1]=a,n[2]=s,n[3]=r,n[4]=o,n[5]=l,n[6]=c,n[7]=h,n[8]=p,n[9]=u,n[10]=d,n[11]=g,n[12]=i*m+o*f+p*v+t[12],n[13]=a*m+l*f+u*v+t[13],n[14]=s*m+c*f+d*v+t[14],n[15]=r*m+h*f+g*v+t[15],n):(t[12]=t[0]*m+t[4]*f+t[8]*v+t[12],t[13]=t[1]*m+t[5]*f+t[9]*v+t[13],t[14]=t[2]*m+t[6]*f+t[10]*v+t[14],t[15]=t[3]*m+t[7]*f+t[11]*v+t[15],t)},g.scale=function(t,e,n){var i=e[0],a=e[1],s=e[2];return n&&t!==n?(n[0]=t[0]*i,n[1]=t[1]*i,n[2]=t[2]*i,n[3]=t[3]*i,n[4]=t[4]*a,n[5]=t[5]*a,n[6]=t[6]*a,n[7]=t[7]*a,n[8]=t[8]*s,n[9]=t[9]*s,n[10]=t[10]*s,n[11]=t[11]*s,n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n):(t[0]*=i,t[1]*=i,t[2]*=i,t[3]*=i,t[4]*=a,t[5]*=a,t[6]*=a,t[7]*=a,t[8]*=s,t[9]*=s,t[10]*=s,t[11]*=s,t)},g.rotate=function(t,e,n,i){var a,s,r,o,l,c,h,p,u,d,g,m,f,v,L,y,C,_,x,w,b,M,z,S,E=n[0],T=n[1],B=n[2],O=Math.sqrt(E*E+T*T+B*B);return O?(1!==O&&(O=1/O,E*=O,T*=O,B*=O),a=Math.sin(e),s=Math.cos(e),r=1-s,o=t[0],l=t[1],c=t[2],h=t[3],p=t[4],u=t[5],d=t[6],g=t[7],m=t[8],f=t[9],v=t[10],L=t[11],y=E*E*r+s,C=T*E*r+B*a,_=B*E*r-T*a,x=E*T*r-B*a,w=T*T*r+s,b=B*T*r+E*a,M=E*B*r+T*a,z=T*B*r-E*a,S=B*B*r+s,i?t!==i&&(i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]):i=t,i[0]=o*y+p*C+m*_,i[1]=l*y+u*C+f*_,i[2]=c*y+d*C+v*_,i[3]=h*y+g*C+L*_,i[4]=o*x+p*w+m*b,i[5]=l*x+u*w+f*b,i[6]=c*x+d*w+v*b,i[7]=h*x+g*w+L*b,i[8]=o*M+p*z+m*S,i[9]=l*M+u*z+f*S,i[10]=c*M+d*z+v*S,i[11]=h*M+g*z+L*S,i):null},g.rotateX=function(t,e,n){var i=Math.sin(e),a=Math.cos(e),s=t[4],r=t[5],o=t[6],l=t[7],c=t[8],h=t[9],p=t[10],u=t[11];return n?t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]):n=t,n[4]=s*a+c*i,n[5]=r*a+h*i,n[6]=o*a+p*i,n[7]=l*a+u*i,n[8]=s*-i+c*a,n[9]=r*-i+h*a,n[10]=o*-i+p*a,n[11]=l*-i+u*a,n},g.rotateY=function(t,e,n){var i=Math.sin(e),a=Math.cos(e),s=t[0],r=t[1],o=t[2],l=t[3],c=t[8],h=t[9],p=t[10],u=t[11];return n?t!==n&&(n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]):n=t,n[0]=s*a+c*-i,n[1]=r*a+h*-i,n[2]=o*a+p*-i,n[3]=l*a+u*-i,n[8]=s*i+c*a,n[9]=r*i+h*a,n[10]=o*i+p*a,n[11]=l*i+u*a,n},g.rotateZ=function(t,e,n){var i=Math.sin(e),a=Math.cos(e),s=t[0],r=t[1],o=t[2],l=t[3],c=t[4],h=t[5],p=t[6],u=t[7];return n?t!==n&&(n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]):n=t,n[0]=s*a+c*i,n[1]=r*a+h*i,n[2]=o*a+p*i,n[3]=l*a+u*i,n[4]=s*-i+c*a,n[5]=r*-i+h*a,n[6]=o*-i+p*a,n[7]=l*-i+u*a,n},g.frustum=function(t,e,n,i,a,s,r){r||(r=g.create());var o=e-t,l=i-n,c=s-a;return r[0]=2*a/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2*a/l,r[6]=0,r[7]=0,r[8]=(e+t)/o,r[9]=(i+n)/l,r[10]=-(s+a)/c,r[11]=-1,r[12]=0,r[13]=0,r[14]=-(2*s*a)/c,r[15]=0,r},g.perspective=function(t,e,n,i,a){var s=n*Math.tan(t*Math.PI/360),r=s*e;return g.frustum(-r,r,-s,s,n,i,a)},g.ortho=function(t,e,n,i,a,s,r){r||(r=g.create());var o=e-t,l=i-n,c=s-a;return r[0]=2/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2/l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-2/c,r[11]=0,r[12]=-(t+e)/o,r[13]=-(i+n)/l,r[14]=-(s+a)/c,r[15]=1,r},g.lookAt=function(t,e,n,i){i||(i=g.create());var a,s,r,o,l,c,h,p,u,d,m=t[0],f=t[1],v=t[2],L=n[0],y=n[1],C=n[2],_=e[0],x=e[1],w=e[2];return m===_&&f===x&&v===w?g.identity(i):(h=m-_,p=f-x,u=v-w,d=1/Math.sqrt(h*h+p*p+u*u),h*=d,p*=d,u*=d,a=y*u-C*p,s=C*h-L*u,r=L*p-y*h,d=Math.sqrt(a*a+s*s+r*r),d?(d=1/d,a*=d,s*=d,r*=d):(a=0,s=0,r=0),o=p*r-u*s,l=u*a-h*r,c=h*s-p*a,d=Math.sqrt(o*o+l*l+c*c),d?(d=1/d,o*=d,l*=d,c*=d):(o=0,l=0,c=0),i[0]=a,i[1]=o,i[2]=h,i[3]=0,i[4]=s,i[5]=l,i[6]=p,i[7]=0,i[8]=r,i[9]=c,i[10]=u,i[11]=0,i[12]=-(a*m+s*f+r*v),i[13]=-(o*m+l*f+c*v),i[14]=-(h*m+p*f+u*v),i[15]=1,i)},g.fromRotationTranslation=function(t,e,n){n||(n=g.create());var i=t[0],a=t[1],s=t[2],r=t[3],o=i+i,l=a+a,c=s+s,h=i*o,p=i*l,u=i*c,d=a*l,m=a*c,f=s*c,v=r*o,L=r*l,y=r*c;return n[0]=1-(d+f),n[1]=p+y,n[2]=u-L,n[3]=0,n[4]=p-y,n[5]=1-(h+f),n[6]=m+v,n[7]=0,n[8]=u+L,n[9]=m-v,n[10]=1-(h+d),n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n},g.str=function(t){return"["+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+"]"};var m={};m.create=function(t){var e=new s(4);return t?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):e[0]=e[1]=e[2]=e[3]=0,e},m.createFrom=function(t,e,n,i){var a=new s(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a},m.set=function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},m.equal=function(t,e){return t===e||i>Math.abs(t[0]-e[0])&&i>Math.abs(t[1]-e[1])&&i>Math.abs(t[2]-e[2])&&i>Math.abs(t[3]-e[3])},m.identity=function(t){return t||(t=m.create()),t[0]=0,t[1]=0,t[2]=0,t[3]=1,t};var f=m.identity();m.calculateW=function(t,e){var n=t[0],i=t[1],a=t[2];return e&&t!==e?(e[0]=n,e[1]=i,e[2]=a,e[3]=-Math.sqrt(Math.abs(1-n*n-i*i-a*a)),e):(t[3]=-Math.sqrt(Math.abs(1-n*n-i*i-a*a)),t)},m.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},m.inverse=function(t,e){var n=t[0],i=t[1],a=t[2],s=t[3],r=n*n+i*i+a*a+s*s,o=r?1/r:0;return e&&t!==e?(e[0]=-t[0]*o,e[1]=-t[1]*o,e[2]=-t[2]*o,e[3]=t[3]*o,e):(t[0]*=-o,t[1]*=-o,t[2]*=-o,t[3]*=o,t)},m.conjugate=function(t,e){return e&&t!==e?(e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e):(t[0]*=-1,t[1]*=-1,t[2]*=-1,t)},m.length=function(t){var e=t[0],n=t[1],i=t[2],a=t[3];return Math.sqrt(e*e+n*n+i*i+a*a)},m.normalize=function(t,e){e||(e=t);var n=t[0],i=t[1],a=t[2],s=t[3],r=Math.sqrt(n*n+i*i+a*a+s*s);return 0===r?(e[0]=0,e[1]=0,e[2]=0,e[3]=0,e):(r=1/r,e[0]=n*r,e[1]=i*r,e[2]=a*r,e[3]=s*r,e)},m.add=function(t,e,n){return n&&t!==n?(n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n[3]=t[3]+e[3],n):(t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],t[3]+=e[3],t)},m.multiply=function(t,e,n){n||(n=t);var i=t[0],a=t[1],s=t[2],r=t[3],o=e[0],l=e[1],c=e[2],h=e[3];return n[0]=i*h+r*o+a*c-s*l,n[1]=a*h+r*l+s*o-i*c,n[2]=s*h+r*c+i*l-a*o,n[3]=r*h-i*o-a*l-s*c,n},m.multiplyVec3=function(t,e,n){n||(n=e);var i=e[0],a=e[1],s=e[2],r=t[0],o=t[1],l=t[2],c=t[3],h=c*i+o*s-l*a,p=c*a+l*i-r*s,u=c*s+r*a-o*i,d=-r*i-o*a-l*s;return n[0]=h*c+d*-r+p*-l-u*-o,n[1]=p*c+d*-o+u*-r-h*-l,n[2]=u*c+d*-l+h*-o-p*-r,n},m.scale=function(t,e,n){return n&&t!==n?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3]*e,n):(t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=e,t)},m.toMat3=function(t,e){e||(e=d.create());var n=t[0],i=t[1],a=t[2],s=t[3],r=n+n,o=i+i,l=a+a,c=n*r,h=n*o,p=n*l,u=i*o,g=i*l,m=a*l,f=s*r,v=s*o,L=s*l;return e[0]=1-(u+m),e[1]=h+L,e[2]=p-v,e[3]=h-L,e[4]=1-(c+m),e[5]=g+f,e[6]=p+v,e[7]=g-f,e[8]=1-(c+u),e},m.toMat4=function(t,e){e||(e=g.create());var n=t[0],i=t[1],a=t[2],s=t[3],r=n+n,o=i+i,l=a+a,c=n*r,h=n*o,p=n*l,u=i*o,d=i*l,m=a*l,f=s*r,v=s*o,L=s*l;return e[0]=1-(u+m),e[1]=h+L,e[2]=p-v,e[3]=0,e[4]=h-L,e[5]=1-(c+m),e[6]=d+f,e[7]=0,e[8]=p+v,e[9]=d-f,e[10]=1-(c+u),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},m.slerp=function(t,e,n,i){i||(i=t);var a,s,r,o,l=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],c=1;return 0>l&&(l=-l,c=-1),Math.abs(l)>=1?(i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]),i):(a=Math.acos(l),s=Math.sqrt(1-l*l),.001>Math.abs(s)?(i[0]=.5*t[0]+.5*e[0],i[1]=.5*t[1]+.5*e[1],i[2]=.5*t[2]+.5*e[2],i[3]=.5*t[3]+.5*e[3],i):(r=Math.sin((1-n)*a)/s,o=Math.sin(n*a)/s,i[0]=t[0]*r+e[0]*c*o,i[1]=t[1]*r+e[1]*c*o,i[2]=t[2]*r+e[2]*c*o,i[3]=t[3]*r+e[3]*c*o,i))},m.fromRotationMatrix=function(t,e){e||(e=m.create());var n=d.create();d.transpose(t,n);var i,a=n[0]+n[4]+n[8];if(a>0)i=Math.sqrt(a+1),e[3]=.5*i,i=.5/i,e[0]=(n[7]-n[5])*i,e[1]=(n[2]-n[6])*i,e[2]=(n[3]-n[1])*i;else{var s=m.fromRotationMatrix.s_iNext=m.fromRotationMatrix.s_iNext||[1,2,0],r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);var o=s[r],l=s[o];i=Math.sqrt(n[3*r+r]-n[3*o+o]-n[3*l+l]+1),e[r]=.5*i,i=.5/i,e[3]=(n[3*l+o]-n[3*o+l])*i,e[o]=(n[3*o+r]+n[3*r+o])*i,e[l]=(n[3*l+r]+n[3*r+l])*i}return e},d.toQuat4=m.fromRotationMatrix,function(){var t=d.create();m.fromAxes=function(e,n,i,a){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=e[0],t[5]=e[1],t[8]=e[2],m.fromRotationMatrix(t,a)}}(),m.identity=function(t){return t||(t=m.create()),t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},m.fromAngleAxis=function(t,e,n){n||(n=m.create());var i=.5*t,a=Math.sin(i);return n[3]=Math.cos(i),n[0]=a*e[0],n[1]=a*e[1],n[2]=a*e[2],n},m.toAngleAxis=function(t,e){e||(e=t);var n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(n>0){e[3]=2*Math.acos(t[3]);var i=a.invsqrt(n);e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i}else e[3]=0,e[0]=1,e[1]=0,e[2]=0;return e},m.str=function(t){return"["+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+"]"};var v={};v.create=function(t){var e=new s(2);return t?(e[0]=t[0],e[1]=t[1]):(e[0]=0,e[1]=0),e},v.createFrom=function(t,e){var n=new s(2);return n[0]=t,n[1]=e,n},v.add=function(t,e,n){return n||(n=e),n[0]=t[0]+e[0],n[1]=t[1]+e[1],n},v.subtract=function(t,e,n){return n||(n=e),n[0]=t[0]-e[0],n[1]=t[1]-e[1],n},v.multiply=function(t,e,n){return n||(n=e),n[0]=t[0]*e[0],n[1]=t[1]*e[1],n},v.divide=function(t,e,n){return n||(n=e),n[0]=t[0]/e[0],n[1]=t[1]/e[1],n},v.scale=function(t,e,n){return n||(n=t),n[0]=t[0]*e,n[1]=t[1]*e,n},v.dist=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},v.set=function(t,e){return e[0]=t[0],e[1]=t[1],e},v.equal=function(t,e){return t===e||i>Math.abs(t[0]-e[0])&&i>Math.abs(t[1]-e[1])},v.negate=function(t,e){return e||(e=t),e[0]=-t[0],e[1]=-t[1],e},v.normalize=function(t,e){e||(e=t);var n=t[0]*t[0]+t[1]*t[1];return n>0?(n=Math.sqrt(n),e[0]=t[0]/n,e[1]=t[1]/n):e[0]=e[1]=0,e},v.cross=function(t,e,n){var i=t[0]*e[1]-t[1]*e[0];return n?(n[0]=n[1]=0,n[2]=i,n):i},v.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},v.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},v.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},v.direction=function(t,e,n){n||(n=t);var i=t[0]-e[0],a=t[1]-e[1],s=i*i+a*a;return s?(s=1/Math.sqrt(s),n[0]=i*s,n[1]=a*s,n):(n[0]=0,n[1]=0,n[2]=0,n)},v.lerp=function(t,e,n,i){return i||(i=t),i[0]=t[0]+n*(e[0]-t[0]),i[1]=t[1]+n*(e[1]-t[1]),i},v.str=function(t){return"["+t[0]+", "+t[1]+"]"};var L={};L.create=function(t){var e=new s(4);return t?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):e[0]=e[1]=e[2]=e[3]=0,e},L.createFrom=function(t,e,n,i){var a=new s(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a},L.set=function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},L.equal=function(t,e){return t===e||i>Math.abs(t[0]-e[0])&&i>Math.abs(t[1]-e[1])&&i>Math.abs(t[2]-e[2])&&i>Math.abs(t[3]-e[3])},L.identity=function(t){return t||(t=L.create()),t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},L.transpose=function(t,e){if(!e||t===e){var n=t[1];return t[1]=t[2],t[2]=n,t}return e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3],e},L.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},L.inverse=function(t,e){e||(e=t);var n=t[0],i=t[1],a=t[2],s=t[3],r=n*s-a*i;return r?(r=1/r,e[0]=s*r,e[1]=-i*r,e[2]=-a*r,e[3]=n*r,e):null},L.multiply=function(t,e,n){n||(n=t);var i=t[0],a=t[1],s=t[2],r=t[3];return n[0]=i*e[0]+a*e[2],n[1]=i*e[1]+a*e[3],n[2]=s*e[0]+r*e[2],n[3]=s*e[1]+r*e[3],n},L.rotate=function(t,e,n){n||(n=t);var i=t[0],a=t[1],s=t[2],r=t[3],o=Math.sin(e),l=Math.cos(e);return n[0]=i*l+a*o,n[1]=i*-o+a*l,n[2]=s*l+r*o,n[3]=s*-o+r*l,n},L.multiplyVec2=function(t,e,n){n||(n=e);var i=e[0],a=e[1];return n[0]=i*t[0]+a*t[1],n[1]=i*t[2]+a*t[3],n},L.scale=function(t,e,n){n||(n=t);var i=t[0],a=t[1],s=t[2],r=t[3],o=e[0],l=e[1];return n[0]=i*o,n[1]=a*l,n[2]=s*o,n[3]=r*l,n},L.str=function(t){return"["+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+"]"};var y={};return y.create=function(t){var e=new s(4);return t?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e},y.createFrom=function(t,e,n,i){var a=new s(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a},y.add=function(t,e,n){return n||(n=e),n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n[3]=t[3]+e[3],n},y.subtract=function(t,e,n){return n||(n=e),n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n[3]=t[3]-e[3],n},y.multiply=function(t,e,n){return n||(n=e),n[0]=t[0]*e[0],n[1]=t[1]*e[1],n[2]=t[2]*e[2],n[3]=t[3]*e[3],n},y.divide=function(t,e,n){return n||(n=e),n[0]=t[0]/e[0],n[1]=t[1]/e[1],n[2]=t[2]/e[2],n[3]=t[3]/e[3],n},y.scale=function(t,e,n){return n||(n=t),n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n[3]=t[3]*e,n},y.set=function(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},y.equal=function(t,e){return t===e||i>Math.abs(t[0]-e[0])&&i>Math.abs(t[1]-e[1])&&i>Math.abs(t[2]-e[2])&&i>Math.abs(t[3]-e[3])},y.negate=function(t,e){return e||(e=t),e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},y.length=function(t){var e=t[0],n=t[1],i=t[2],a=t[3];return Math.sqrt(e*e+n*n+i*i+a*a)},y.squaredLength=function(t){var e=t[0],n=t[1],i=t[2],a=t[3];return e*e+n*n+i*i+a*a},y.lerp=function(t,e,n,i){return i||(i=t),i[0]=t[0]+n*(e[0]-t[0]),i[1]=t[1]+n*(e[1]-t[1]),i[2]=t[2]+n*(e[2]-t[2]),i[3]=t[3]+n*(e[3]-t[3]),i},y.str=function(t){return"["+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+"]"},t&&(t.glMatrixArrayType=s,t.MatrixArray=s,t.setMatrixArrayType=e,t.determineMatrixArrayType=n,t.glMath=a,t.vec2=v,t.vec3=r,t.vec4=y,t.mat2=L,t.mat3=d,t.mat4=g,t.quat4=m),{glMatrixArrayType:s,MatrixArray:s,setMatrixArrayType:e,determineMatrixArrayType:n,glMath:a,vec2:v,vec3:r,vec4:y,mat2:L,mat3:d,mat4:g,quat4:m}})}});