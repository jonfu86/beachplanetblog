montageDefine("3d2b056","runtime/dependencies/webgl-debug",{dependencies:[],factory:function(){WebGLDebugUtils=function(){function t(t){if(null==d){d={};for(var e in t)"number"==typeof t[e]&&(d[t[e]]=e)}}function e(){if(null==d)throw"WebGLDebugUtils.init(ctx) not called"}function n(t){return e(),void 0!==d[t]}function i(t){e();var n=d[t];return void 0!==n?"gl."+n:"/*UNKNOWN WebGL ENUM*/ 0x"+t.toString(16)}function a(t,e,n,a){var r=p[t];if(void 0!==r){var r=r[e];if(void 0!==r&&r[n])return i(a)}return null===a?"null":void 0===a?"undefined":""+a}function r(t,e){for(var n="",i=e.length,r=0;i>r;++r)n+=(0==r?"":", ")+a(t,i,r,e[r]);return n}function s(t,e,n){t.__defineGetter__(n,function(){return e[n]}),t.__defineSetter__(n,function(t){e[n]=t})}function o(e,n,r){function o(t,e){return function(){r&&r(e,arguments);var i=t[e].apply(t,arguments),a=t.getError();return 0!=a&&(l[a]=!0,n(a,e,arguments)),i}}t(e),n=n||function(t,e,n){for(var r="",s=n.length,o=0;s>o;++o)r+=(0==o?"":", ")+a(e,s,o,n[o]);u("WebGL error "+i(t)+" in "+e+"("+r+")")};var l={},c={};for(var h in e)"function"==typeof e[h]?c[h]=o(e,h):s(c,e,h);return c.getError=function(){for(var t in l)if(l.hasOwnProperty(t)&&l[t])return l[t]=!1,t;return e.NO_ERROR},c}function l(t){var e=t.getParameter(t.MAX_VERTEX_ATTRIBS),n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n);for(var i=0;e>i;++i)t.disableVertexAttribArray(i),t.vertexAttribPointer(i,4,t.FLOAT,!1,0,0),t.vertexAttrib1f(i,0);t.deleteBuffer(n);for(var a=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),i=0;a>i;++i)t.activeTexture(t.TEXTURE0+i),t.bindTexture(t.TEXTURE_CUBE_MAP,null),t.bindTexture(t.TEXTURE_2D,null);for(t.activeTexture(t.TEXTURE0),t.useProgram(null),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.DITHER),t.disable(t.SCISSOR_TEST),t.blendColor(0,0,0,0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.clearColor(0,0,0,0),t.clearDepth(1),t.clearStencil(-1),t.colorMask(!0,!0,!0,!0),t.cullFace(t.BACK),t.depthFunc(t.LESS),t.depthMask(!0),t.depthRange(0,1),t.frontFace(t.CCW),t.hint(t.GENERATE_MIPMAP_HINT,t.DONT_CARE),t.lineWidth(1),t.pixelStorei(t.PACK_ALIGNMENT,4),t.pixelStorei(t.UNPACK_ALIGNMENT,4),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.UNPACK_COLORSPACE_CONVERSION_WEBGL&&t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.BROWSER_DEFAULT_WEBGL),t.polygonOffset(0,0),t.sampleCoverage(1,!1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilMask(4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT);t.getError(););}function c(t){function e(t){return"function"==typeof t?t:function(e){t.handleEvent(e)}}function n(t){var e=t.addEventListener;t.addEventListener=function(n,i){switch(n){case"webglcontextlost":b(i);break;case"webglcontextrestored":w(i);break;default:e.apply(t,arguments)}}}function i(){for(var t=Object.keys(x),e=0;t.length>e;++e)delete x[t]}function a(){++y,f||_==y&&t.loseContext()}function r(t,e){var n=t[e];return function(){if(a(),!f){var e=n.apply(t,arguments);return e}}}function o(){for(var t=0;v.length>t;++t){var e=v[t];e instanceof WebGLBuffer?u.deleteBuffer(e):e instanceof WebGLFramebuffer?u.deleteFramebuffer(e):e instanceof WebGLProgram?u.deleteProgram(e):e instanceof WebGLRenderbuffer?u.deleteRenderbuffer(e):e instanceof WebGLShader?u.deleteShader(e):e instanceof WebGLTexture&&u.deleteTexture(e)}}function c(t){return{statusMessage:t,preventDefault:function(){C=!0}}}function h(t){for(var e in t)"function"==typeof t[e]?p[e]=r(t,e):s(p,t,e);p.getError=function(){if(a(),!f)for(var t;t=u.getError();)x[t]=!0;for(var t in x)if(x[t])return delete x[t],t;return p.NO_ERROR};for(var n=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"],i=0;n.length>i;++i){var o=n[i];p[o]=function(e){return function(){if(a(),f)return null;var n=e.apply(t,arguments);return n.__webglDebugContextLostId__=g,v.push(n),n}}(t[o])}for(var l=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"],i=0;l.length>i;++i){var o=l[i];p[o]=function(e){return function(){return a(),f?null:e.apply(t,arguments)}}(p[o])}for(var c=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"],i=0;c.length>i;++i){var o=c[i];p[o]=function(e){return function(){return a(),f?!1:e.apply(t,arguments)}}(p[o])}return p.checkFramebufferStatus=function(e){return function(){return a(),f?p.FRAMEBUFFER_UNSUPPORTED:e.apply(t,arguments)}}(p.checkFramebufferStatus),p.getAttribLocation=function(e){return function(){return a(),f?-1:e.apply(t,arguments)}}(p.getAttribLocation),p.getVertexAttribOffset=function(e){return function(){return a(),f?0:e.apply(t,arguments)}}(p.getVertexAttribOffset),p.isContextLost=function(){return f},p}var u,p,d=[],m=[],p={},g=1,f=!1,v=[],_=0,y=0,C=!1,L=0,x={};t.getContext=function(e){return function(){var n=e.apply(t,arguments);if(n instanceof WebGLRenderingContext){if(n!=u){if(u)throw"got different context";u=n,p=h(u)}return p}return n}}(t.getContext);var b=function(t){d.push(e(t))},w=function(t){m.push(e(t))};return n(t),t.loseContext=function(){if(!f){for(f=!0,_=0,++g;u.getError(););i(),x[u.CONTEXT_LOST_WEBGL]=!0;var e=c("context lost"),n=d.slice();setTimeout(function(){for(var i=0;n.length>i;++i)n[i](e);L>=0&&setTimeout(function(){t.restoreContext()},L)},0)}},t.restoreContext=function(){f&&m.length&&setTimeout(function(){if(!C)throw"can not restore. webglcontestlost listener did not call event.preventDefault";o(),l(u),f=!1,y=0,C=!1;for(var t=m.slice(),e=c("context restored"),n=0;t.length>n;++n)t[n](e)},0)},t.loseContextInNCalls=function(t){if(f)throw"You can not ask a lost contet to be lost";_=y+t},t.getNumCalls=function(){return y},t.setRestoreTimeout=function(t){L=t},t}var h=function(t){window.console&&window.console.log&&window.console.log(t)},u=function(t){window.console&&window.console.error?window.console.error(t):h(t)},p={enable:{1:{0:!0}},disable:{1:{0:!0}},getParameter:{1:{0:!0}},drawArrays:{3:{0:!0}},drawElements:{4:{0:!0,2:!0}},createShader:{1:{0:!0}},getShaderParameter:{2:{1:!0}},getProgramParameter:{2:{1:!0}},getShaderPrecisionFormat:{2:{0:!0,1:!0}},getVertexAttrib:{2:{1:!0}},vertexAttribPointer:{6:{2:!0}},bindTexture:{2:{0:!0}},activeTexture:{1:{0:!0}},getTexParameter:{2:{0:!0,1:!0}},texParameterf:{3:{0:!0,1:!0}},texParameteri:{3:{0:!0,1:!0,2:!0}},texImage2D:{9:{0:!0,2:!0,6:!0,7:!0},6:{0:!0,2:!0,3:!0,4:!0}},texSubImage2D:{9:{0:!0,6:!0,7:!0},7:{0:!0,4:!0,5:!0}},copyTexImage2D:{8:{0:!0,2:!0}},copyTexSubImage2D:{8:{0:!0}},generateMipmap:{1:{0:!0}},compressedTexImage2D:{7:{0:!0,2:!0}},compressedTexSubImage2D:{8:{0:!0,6:!0}},bindBuffer:{2:{0:!0}},bufferData:{3:{0:!0,2:!0}},bufferSubData:{3:{0:!0}},getBufferParameter:{2:{0:!0,1:!0}},pixelStorei:{2:{0:!0,1:!0}},readPixels:{7:{4:!0,5:!0}},bindRenderbuffer:{2:{0:!0}},bindFramebuffer:{2:{0:!0}},checkFramebufferStatus:{1:{0:!0}},framebufferRenderbuffer:{4:{0:!0,1:!0,2:!0}},framebufferTexture2D:{5:{0:!0,1:!0,2:!0}},getFramebufferAttachmentParameter:{3:{0:!0,1:!0,2:!0}},getRenderbufferParameter:{2:{0:!0,1:!0}},renderbufferStorage:{4:{0:!0,1:!0}},clear:{1:{0:!0}},depthFunc:{1:{0:!0}},blendFunc:{2:{0:!0,1:!0}},blendFuncSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},blendEquation:{1:{0:!0}},blendEquationSeparate:{2:{0:!0,1:!0}},stencilFunc:{3:{0:!0}},stencilFuncSeparate:{4:{0:!0,1:!0}},stencilMaskSeparate:{2:{0:!0}},stencilOp:{3:{0:!0,1:!0,2:!0}},stencilOpSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},cullFace:{1:{0:!0}},frontFace:{1:{0:!0}}},d=null;return{init:t,mightBeEnum:n,glEnumToString:i,glFunctionArgToString:a,glFunctionArgsToString:r,makeDebugContext:o,makeLostContextSimulatingCanvas:c,resetToInitialState:l}}()}});