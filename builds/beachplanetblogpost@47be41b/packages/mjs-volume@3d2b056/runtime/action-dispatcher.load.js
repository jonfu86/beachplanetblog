montageDefine("3d2b056","runtime/action-dispatcher",{dependencies:["montage/core/event/event-manager","montage"],factory:function(t,e){var n=t("montage/core/event/event-manager").defaultEventManager,i=t("montage").Montage,a={COMPONENT_ENTER:"hover",_TOUCH_DOWN:"action"};e.ActionDispatcher=i.specialize({constructor:{value:function(){this.super()}},_scene:{value:null},initWithScene:{value:function(t){return this._scene=t,this}},_findPathToParentsForGlTFElement:{value:function(t,e){if(Array.isArray(e)||(e=[t]),t&&t.parent){var n=t.parent;return e.push(n),this._findPathToParentsForGlTFElement(n,e)}return e}},_isRegisteredListenersForEventTypeOnComponent:{value:function(t,e){var i=a[t];if(n&&i&&e.uuid){var s=n.registeredEventListeners[i];if(s)return!!s[e.uuid]}return!1}},_isComponentStyleRespondToAction:{value:function(t,e){var n=a[t],i=e._style;return n&&n!==a._TOUCH_DOWN&&i&&"object"==typeof i&&i.hasOwnProperty(n)}},dispatchActionOnGlTFElement:{value:function(t,e){if("string"==typeof t&&e&&"object"==typeof e){var n=this._findPathToParentsForGlTFElement(e),i=this;n.some(function(n){var a=n.component3D;return a&&(i._isRegisteredListenersForEventTypeOnComponent(t,a)||i._isComponentStyleRespondToAction(t,a))?(a.handleActionOnGlTFElement(e,t),!0):!1})}}}})}});