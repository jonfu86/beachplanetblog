montageDefine("3d2b056","runtime/scene-resource-loader",{dependencies:["runtime/resource-loader","runtime/mesh-resource-loader"],factory:function(t,e){var n=t("runtime/resource-loader").ResourceLoader,i=t("runtime/mesh-resource-loader").MeshResourceLoader;e.SceneResourceLoader=Object.create(n,{_scene:{value:null,writable:!0},scene:{get:function(){return this._scene},set:function(t){this._scene=t}},meshesDidLoad:{value:function(){this.delegate&&this.delegate.sceneResourcesDidPrepare(this.scene)}},loadScene:{value:function(){var t=this;if(this.scene){var e=this.scene.rootNode,n={},r=[];e.apply(function(t){return t.meshes&&t.meshes.length&&t.meshes.forEach(function(t){null==n[t.id]&&(r.push(t),n[t.id]=t)},this),null},!0,null);var a=Object.create(i).init(r,t.webGLRenderer,this);a.loadMeshes()}}},init:{value:function(t,e,n){return n&&(this.delegate=n),this.webGLRenderer=e,this.scene=t,e.resourceManager.observers.push(this),this}}})}});