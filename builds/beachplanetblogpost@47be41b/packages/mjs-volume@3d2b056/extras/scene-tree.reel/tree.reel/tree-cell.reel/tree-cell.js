var Component=require("montage/ui/component").Component,ModuleLocation=module.location.replace(/[^\/]+.js$/m,""),SceneTreeNode=require("extras/scene-tree.reel/core/scene-tree-node").SceneTreeNode,NODE_TYPES=require("extras/scene-tree.reel/core/scene-tree-node").SceneTreeNodeTypes,MIME_TYPES=require("extras/scene-tree.reel/core/mime-types");exports.TreeCell=Component.specialize({constructor:{value:function(){this.super()}},hasChildren:{value:!1},configuration:{value:null},name:{value:null},id:{value:null},type:{value:null},_node:{value:null},node:{set:function(t){if(t&&"object"==typeof t&&t.content){var e=t.content,n=e.root;n?t.expanded=!0:this.id=e.glTFElement.baseId,e.rawChildren&&(this.hasChildren=Object.keys(e.rawChildren).length>0),this.name=e.name,this._node=t,this.type=e.type}},get:function(){return this._node}},isDraggable:{value:null},enterDocument:{value:function(t){t&&this.isDraggable&&this._element.addEventListener("dragstart",this,!0)}},captureDragstart:{value:function(t){if(this._node&&this._node.content&&this._node.content.glTFElement){var e=t.dataTransfer;e&&(e.effectAllowed="move",e.setData(MIME_TYPES.TEXT_PLAIN,this._node.content.glTFElement.baseId))}}},draw:{value:function(){if(this.node){var t=this.configuration.get("indentValue")*(this.node.depth-1),e=this.node.content;if(this._element.style.marginLeft=t+this.configuration.get("indentUnit"),this.isDraggable&&this._element.setAttribute("draggable","true"),e&&e instanceof SceneTreeNode&&!e.hasChildren()&&this.classList.add("LastSceneNode"),this.configuration.get("displayNodeType")){var n=this.templateObjects.nodeTypeImage;switch(this.type){case NODE_TYPES.NODE:n.src=ModuleLocation+"icons/cube.png",n.alt="node";break;case NODE_TYPES.LIGHT:n.src=ModuleLocation+"icons/light.png",n.alt="light";break;case NODE_TYPES.CAMERA:n.src=ModuleLocation+"icons/camera.png",n.alt="camera"}}}}}});