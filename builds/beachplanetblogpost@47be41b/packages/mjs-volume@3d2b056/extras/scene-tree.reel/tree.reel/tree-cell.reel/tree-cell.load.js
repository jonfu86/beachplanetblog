montageDefine("3d2b056","extras/scene-tree.reel/tree.reel/tree-cell.reel/tree-cell",{dependencies:["montage/ui/component","extras/scene-tree.reel/core/scene-tree-node","extras/scene-tree.reel/core/mime-types"],factory:function(t,e,n){var i=t("montage/ui/component").Component,a=n.location.replace(/[^\/]+.js$/m,""),s=t("extras/scene-tree.reel/core/scene-tree-node").SceneTreeNode,r=t("extras/scene-tree.reel/core/scene-tree-node").SceneTreeNodeTypes,o=t("extras/scene-tree.reel/core/mime-types");e.TreeCell=i.specialize({constructor:{value:function(){this.super()}},hasChildren:{value:!1},configuration:{value:null},name:{value:null},id:{value:null},type:{value:null},_node:{value:null},node:{set:function(t){if(t&&"object"==typeof t&&t.content){var e=t.content,n=e.root;n?t.expanded=!0:this.id=e.glTFElement.baseId,e.rawChildren&&(this.hasChildren=Object.keys(e.rawChildren).length>0),this.name=e.name,this._node=t,this.type=e.type}},get:function(){return this._node}},isDraggable:{value:null},enterDocument:{value:function(t){t&&this.isDraggable&&this._element.addEventListener("dragstart",this,!0)}},captureDragstart:{value:function(t){if(this._node&&this._node.content&&this._node.content.glTFElement){var e=t.dataTransfer;e&&(e.effectAllowed="move",e.setData(o.TEXT_PLAIN,this._node.content.glTFElement.baseId))}}},draw:{value:function(){if(this.node){var t=this.configuration.get("indentValue")*(this.node.depth-1),e=this.node.content;if(this._element.style.marginLeft=t+this.configuration.get("indentUnit"),this.isDraggable&&this._element.setAttribute("draggable","true"),e&&e instanceof s&&!e.hasChildren()&&this.classList.add("LastSceneNode"),this.configuration.get("displayNodeType")){var n=this.templateObjects.nodeTypeImage;switch(this.type){case r.NODE:n.src=a+"icons/cube.png",n.alt="node";break;case r.LIGHT:n.src=a+"icons/light.png",n.alt="light";break;case r.CAMERA:n.src=a+"icons/camera.png",n.alt="camera"}}}}}})}});