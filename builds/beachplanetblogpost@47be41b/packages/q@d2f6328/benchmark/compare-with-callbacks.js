"use strict";var Q=require("../q"),fs=require("fs");suite("A single simple async operation",function(){bench("with an immediately-fulfilled promise",function(t){Q().then(t)}),bench("with direct setImmediate usage",function(t){setImmediate(t)}),bench("with direct setTimeout(â€¦, 0)",function(t){setTimeout(t,0)})}),suite("A fs.readFile",function(){var t=Q.denodeify(fs.readFile);set("iterations",1e3),set("delay",1e3),bench("directly, with callbacks",function(t){fs.readFile(__filename,t)}),bench("with Q.nfcall",function(t){Q.nfcall(fs.readFile,__filename).then(t)}),bench("with a Q.denodeify'ed version",function(e){t(__filename).then(e)}),bench("with manual usage of deferred.makeNodeResolver",function(t){var e=Q.defer();fs.readFile(__filename,e.makeNodeResolver()),e.promise.then(t)})}),suite("1000 operations in parallel",function(){function t(t,e){var n=0;return function(){++n===t&&e()}}var e=1e3;bench("with immediately-fulfilled promises",function(n){for(var a=t(e,n),i=0;e>i;++i)Q().then(a)}),bench("with direct setImmediate usage",function(n){for(var a=t(e,n),i=0;e>i;++i)setImmediate(a)})});