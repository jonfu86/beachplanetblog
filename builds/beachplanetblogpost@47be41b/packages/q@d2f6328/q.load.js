montageDefine("d2f6328","q",{dependencies:[],factory:function(t,e,n){(function(t){if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof e)n.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=t}else Q=t()})(function(){"use strict";function t(t){return function(){return Y.apply(t,arguments)}}function e(t){return t===Object(t)}function n(t){return"[object StopIteration]"===ee(t)||t instanceof H}function i(t,e){if(q&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(ne)){for(var n=[],i=e;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(t.stack);var s=n.join("\n"+ne+"\n");t.stack=a(s)}}function a(t){for(var e=t.split("\n"),n=[],i=0;e.length>i;++i){var a=e[i];o(a)||s(a)||!a||n.push(a)}return n.join("\n")}function s(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function r(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}function o(t){var e=r(t);if(!e)return!1;var n=e[0],i=e[1];return n===F&&i>=G&&re>=i}function l(){if(q)try{throw Error()}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],i=r(n);if(!i)return;return F=i[0],i[1]}}function c(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",Error("").stack),t.apply(t,arguments)}}function h(t){return v(t)?t:L(t)?S(t):z(t)}function p(){function t(t){e=t,s.source=t,K(n,function(e,n){Z(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,i=void 0}var e,n=[],i=[],a=$(p.prototype),s=$(g.prototype);if(s.promiseDispatch=function(t,a,s){var r=X(arguments);n?(n.push(r),"when"===a&&s[1]&&i.push(s[1])):Z(function(){e.promiseDispatch.apply(e,r)})},s.valueOf=function(){if(n)return s;var t=f(e);return v(t)&&(e=t),t},s.inspect=function(){return e?e.inspect():{state:"pending"}},h.longStackSupport&&q)try{throw Error()}catch(r){s.stack=r.stack.substring(r.stack.indexOf("\n")+1)}return a.promise=s,a.resolve=function(n){e||t(h(n))},a.fulfill=function(n){e||t(z(n))},a.reject=function(n){e||t(M(n))},a.notify=function(t){e||K(i,function(e,n){Z(function(){n(t)})},void 0)},a}function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=p();try{t(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}return e.promise}function d(t){return u(function(e,n){for(var i=0,a=t.length;a>i;i++)h(t[i]).then(e,n)})}function g(t,e,n){void 0===e&&(e=function(t){return M(Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var i=$(g.prototype);if(i.promiseDispatch=function(n,a,s){var r;try{r=t[a]?t[a].apply(i,s):e.call(i,a,s)}catch(o){r=M(o)}n&&n(r)},i.inspect=n,n){var a=n();"rejected"===a.state&&(i.exception=a.reason),i.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?i:t.value}}return i}function m(t,e,n,i){return h(t).then(e,n,i)}function f(t){if(v(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function v(t){return e(t)&&"function"==typeof t.promiseDispatch&&"function"==typeof t.inspect}function L(t){return e(t)&&"function"==typeof t.then}function y(t){return v(t)&&"pending"===t.inspect().state}function C(t){return!v(t)||"fulfilled"===t.inspect().state}function x(t){return v(t)&&"rejected"===t.inspect().state}function w(){ie.length=0,ae.length=0,se||(se=!0)}function _(t,e){se&&(ae.push(t),e&&e.stack!==void 0?ie.push(e.stack):ie.push("(no stack) "+e))}function b(t){if(se){var e=U(ae,t);-1!==e&&(ae.splice(e,1),ie.splice(e,1))}}function M(t){var e=g({when:function(e){return e&&b(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return _(e,t),e}function z(t){return g({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},"delete":function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return te(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function S(t){var e=p();return Z(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function B(t){return g({isDef:function(){}},function(e,n){return D(t,e,n)},function(){return h(t).inspect()})}function O(t,e,n){return h(t).spread(e,n)}function E(t){return function(){function e(t,e){var r;if("undefined"==typeof StopIteration){try{r=i[t](e)}catch(o){return M(o)}return r.done?r.value:m(r.value,a,s)}try{r=i[t](e)}catch(o){return n(o)?o.value:M(o)}return m(r,a,s)}var i=t.apply(this,arguments),a=e.bind(e,"next"),s=e.bind(e,"throw");return a()}}function k(t){h.done(h.async(t)())}function T(t){throw new H(t)}function P(t){return function(){return O([this,A(arguments)],function(e,n){return t.apply(e,n)})}}function D(t,e,n){return h(t).dispatch(e,n)}function A(t){return m(t,function(t){var e=0,n=p();return K(t,function(i,a,s){var r;v(a)&&"fulfilled"===(r=a.inspect()).state?t[s]=r.value:(++e,m(a,function(i){t[s]=i,0===--e&&n.resolve(t)},n.reject,function(t){n.notify({index:s,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function V(t){return m(t,function(t){return t=J(t,h),m(A(J(t,function(t){return m(t,W,W)})),function(){return t})})}function j(t){return h(t).allSettled()}function R(t,e){return h(t).then(void 0,void 0,e)}function I(t,e){return h(t).nodeify(e)}var q=!1;try{throw Error()}catch(N){q=!!N.stack}var F,H,G=l(),W=function(){},Z=function(){function t(){for(;e.next;){e=e.next;var n=e.task;e.task=void 0;var a=e.domain;a&&(e.domain=void 0,a.enter());try{n()}catch(r){if(s)throw a&&a.exit(),setTimeout(t,0),a&&a.enter(),r;setTimeout(function(){throw r},0)}a&&a.exit()}i=!1}var e={task:void 0,next:null},n=e,i=!1,a=void 0,s=!1;if(Z=function(t){n=n.next={task:t,domain:s&&process.domain,next:null},i||(i=!0,a())},"undefined"!=typeof process&&process.nextTick)s=!0,a=function(){process.nextTick(t)};else if("function"==typeof setImmediate)a="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var r=new MessageChannel;r.port1.onmessage=function(){a=o,r.port1.onmessage=t,t()};var o=function(){r.port2.postMessage(0)};a=function(){setTimeout(t,0),o()}}else a=function(){setTimeout(t,0)};return Z}(),Y=Function.call,X=t(Array.prototype.slice),K=t(Array.prototype.reduce||function(t,e){var n=0,i=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=i)throw new TypeError}for(;i>n;n++)n in this&&(e=t(e,this[n],n));return e}),U=t(Array.prototype.indexOf||function(t){for(var e=0;this.length>e;e++)if(this[e]===t)return e;return-1}),J=t(Array.prototype.map||function(t,e){var n=this,i=[];return K(n,function(a,s,r){i.push(t.call(e,s,r,n))},void 0),i}),$=Object.create||function(t){function e(){}return e.prototype=t,new e},Q=t(Object.prototype.hasOwnProperty),te=Object.keys||function(t){var e=[];for(var n in t)Q(t,n)&&e.push(n);return e},ee=t(Object.prototype.toString);H="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var ne="From previous event:";h.resolve=h,h.nextTick=Z,h.longStackSupport=!1,h.defer=p,p.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(X(arguments,1)):t.resolve(n)}},h.Promise=u,h.promise=u,u.race=d,u.all=A,u.reject=M,u.resolve=h,h.passByCopy=function(t){return t},g.prototype.passByCopy=function(){return this},h.join=function(t,e){return h(t).join(e)},g.prototype.join=function(t){return h([this,t]).spread(function(t,e){if(t===e)return t;throw Error("Can't join: not the same: "+t+" "+e)})},h.race=d,g.prototype.race=function(){return this.then(h.race)},h.makePromise=g,g.prototype.toString=function(){return"[object Promise]"},g.prototype.then=function(t,e,n){function a(e){try{return"function"==typeof t?t(e):e}catch(n){return M(n)}}function s(t){if("function"==typeof e){i(t,o);try{return e(t)}catch(n){return M(n)}}return M(t)}function r(t){return"function"==typeof n?n(t):t}var o=this,l=p(),c=!1;return Z(function(){o.promiseDispatch(function(t){c||(c=!0,l.resolve(a(t)))},"when",[function(t){c||(c=!0,l.resolve(s(t)))}])}),o.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=r(t)}catch(i){if(n=!0,!h.onerror)throw i;h.onerror(i)}n||l.notify(e)}]),l.promise},h.when=m,g.prototype.thenResolve=function(t){return this.then(function(){return t})},h.thenResolve=function(t,e){return h(t).thenResolve(e)},g.prototype.thenReject=function(t){return this.then(function(){throw t})},h.thenReject=function(t,e){return h(t).thenReject(e)},h.nearer=f,h.isPromise=v,h.isPromiseAlike=L,h.isPending=y,g.prototype.isPending=function(){return"pending"===this.inspect().state},h.isFulfilled=C,g.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},h.isRejected=x,g.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ie=[],ae=[],se=!0;h.resetUnhandledRejections=w,h.getUnhandledReasons=function(){return ie.slice()},h.stopUnhandledRejectionTracking=function(){w(),se=!1},w(),h.reject=M,h.fulfill=z,h.master=B,h.spread=O,g.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},h.async=E,h.spawn=k,h["return"]=T,h.promised=P,h.dispatch=D,g.prototype.dispatch=function(t,e){var n=this,i=p();return Z(function(){n.promiseDispatch(i.resolve,t,e)}),i.promise},h.get=function(t,e){return h(t).dispatch("get",[e])},g.prototype.get=function(t){return this.dispatch("get",[t])},h.set=function(t,e,n){return h(t).dispatch("set",[e,n])},g.prototype.set=function(t,e){return this.dispatch("set",[t,e])},h.del=h["delete"]=function(t,e){return h(t).dispatch("delete",[e])},g.prototype.del=g.prototype["delete"]=function(t){return this.dispatch("delete",[t])},h.mapply=h.post=function(t,e,n){return h(t).dispatch("post",[e,n])},g.prototype.mapply=g.prototype.post=function(t,e){return this.dispatch("post",[t,e])},h.send=h.mcall=h.invoke=function(t,e){return h(t).dispatch("post",[e,X(arguments,2)])},g.prototype.send=g.prototype.mcall=g.prototype.invoke=function(t){return this.dispatch("post",[t,X(arguments,1)])},h.fapply=function(t,e){return h(t).dispatch("apply",[void 0,e])},g.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},h["try"]=h.fcall=function(t){return h(t).dispatch("apply",[void 0,X(arguments,1)])},g.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])},h.fbind=function(t){var e=h(t),n=X(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(X(arguments))])}},g.prototype.fbind=function(){var t=this,e=X(arguments);return function(){return t.dispatch("apply",[this,e.concat(X(arguments))])}},h.keys=function(t){return h(t).dispatch("keys",[])},g.prototype.keys=function(){return this.dispatch("keys",[])},h.all=A,g.prototype.all=function(){return A(this)},h.allResolved=c(V,"allResolved","allSettled"),g.prototype.allResolved=function(){return V(this)},h.allSettled=j,g.prototype.allSettled=function(){return this.then(function(t){return A(J(t,function(t){function e(){return t.inspect()}return t=h(t),t.then(e,e)}))})},h.fail=h["catch"]=function(t,e){return h(t).then(void 0,e)},g.prototype.fail=g.prototype["catch"]=function(t){return this.then(void 0,t)},h.progress=R,g.prototype.progress=function(t){return this.then(void 0,void 0,t)},h.fin=h["finally"]=function(t,e){return h(t)["finally"](e)},g.prototype.fin=g.prototype["finally"]=function(t){return t=h(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},h.done=function(t,e,n,i){return h(t).done(e,n,i)},g.prototype.done=function(t,e,n){var a=function(t){Z(function(){if(i(t,s),!h.onerror)throw t;h.onerror(t)})},s=t||e||n?this.then(t,e,n):this;"object"==typeof process&&process&&process.domain&&(a=process.domain.bind(a)),s.then(void 0,a)},h.timeout=function(t,e,n){return h(t).timeout(e,n)},g.prototype.timeout=function(t,e){var n=p(),i=setTimeout(function(){n.reject(Error(e||"Timed out after "+t+" ms"))},t);return this.then(function(t){clearTimeout(i),n.resolve(t)},function(t){clearTimeout(i),n.reject(t)},n.notify),n.promise},h.delay=function(t,e){return void 0===e&&(e=t,t=void 0),h(t).delay(e)},g.prototype.delay=function(t){return this.then(function(e){var n=p();return setTimeout(function(){n.resolve(e)},t),n.promise})},h.nfapply=function(t,e){return h(t).nfapply(e)},g.prototype.nfapply=function(t){var e=p(),n=X(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},h.nfcall=function(t){var e=X(arguments,1);return h(t).nfapply(e)},g.prototype.nfcall=function(){var t=X(arguments),e=p();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},h.nfbind=h.denodeify=function(t){var e=X(arguments,1);return function(){var n=e.concat(X(arguments)),i=p();return n.push(i.makeNodeResolver()),h(t).fapply(n).fail(i.reject),i.promise}},g.prototype.nfbind=g.prototype.denodeify=function(){var t=X(arguments);return t.unshift(this),h.denodeify.apply(void 0,t)},h.nbind=function(t,e){var n=X(arguments,2);return function(){function i(){return t.apply(e,arguments)}var a=n.concat(X(arguments)),s=p();return a.push(s.makeNodeResolver()),h(i).fapply(a).fail(s.reject),s.promise}},g.prototype.nbind=function(){var t=X(arguments,0);return t.unshift(this),h.nbind.apply(void 0,t)},h.nmapply=h.npost=function(t,e,n){return h(t).npost(e,n)},g.prototype.nmapply=g.prototype.npost=function(t,e){var n=X(e||[]),i=p();return n.push(i.makeNodeResolver()),this.dispatch("post",[t,n]).fail(i.reject),i.promise},h.nsend=h.nmcall=h.ninvoke=function(t,e){var n=X(arguments,2),i=p();return n.push(i.makeNodeResolver()),h(t).dispatch("post",[e,n]).fail(i.reject),i.promise},g.prototype.nsend=g.prototype.nmcall=g.prototype.ninvoke=function(t){var e=X(arguments,1),n=p();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},h.nodeify=I,g.prototype.nodeify=function(t){return t?(this.then(function(e){Z(function(){t(null,e)})},function(e){Z(function(){t(e)})}),void 0):this};var re=l();return h})}});