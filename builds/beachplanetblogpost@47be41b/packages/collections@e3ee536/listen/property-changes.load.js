montageDefine("e3ee536","listen/property-changes",{dependencies:["../shim"],factory:function(e,t,n){function i(){throw Error("This is an abstract interface. Mix it. Don't construct it")}function s(e,t,n,i){var s,a,r,o=e.active,l=e.current,u=l.length,h=u;for(o.length>u&&(o.length=u);u--;)o[u]=l[u];for(a=0;h>a;a++)if(r=o[a],!a||l.indexOf(r)>=0){if(s=r[e.specificHandlerMethodName]||r[e.genericHandlerMethodName]||r,!s.call)throw Error("No event listener for "+e.specificHandlerName+" or "+e.genericHandlerName+" or call on "+s);s.call(r,n,t,i)}}e("../shim");var a=Object.prototype.hasOwnProperty;n.exports=i,i.debug=!0,i.prototype.getOwnPropertyChangeDescriptor=function(e){this.__propertyChangeListeners__||Object.defineProperty(this,"__propertyChangeListeners__",{value:{},enumerable:!1,configurable:!0,writable:!0});var t=this.__propertyChangeListeners__;if(!a.call(t,e)){var n=e+"";n=n&&n[0].toUpperCase()+n.slice(1),t[e]={willChangeListeners:{current:[],active:[],specificHandlerMethodName:"handle"+n+"WillChange",genericHandlerMethodName:"handlePropertyWillChange"},changeListeners:{current:[],active:[],specificHandlerMethodName:"handle"+n+"Change",genericHandlerMethodName:"handlePropertyChange"}}}return t[e]},i.prototype.hasOwnPropertyChangeDescriptor=function(e){if(!this.__propertyChangeListeners__)return!1;if(!e)return!0;var t=this.__propertyChangeListeners__;return a.call(t,e)?!0:!1},i.prototype.addOwnPropertyChangeListener=function(e,t,n){this.makeObservable&&!this.isObservable&&this.makeObservable();var s,a=i.getOwnPropertyChangeDescriptor(this,e);s=n?a.willChangeListeners:a.changeListeners,i.makePropertyObservable(this,e),s.current.push(t);var r=this;return function(){i.removeOwnPropertyChangeListener(r,e,t,n),r=null}},i.prototype.addBeforeOwnPropertyChangeListener=function(e,t){return i.addOwnPropertyChangeListener(this,e,t,!0)},i.prototype.removeOwnPropertyChangeListener=function(e,t,n){var s,a=i.getOwnPropertyChangeDescriptor(this,e);s=n?a.willChangeListeners:a.changeListeners;var r=s.current.lastIndexOf(t);if(-1===r)throw Error("Can't remove property change listener: does not exist: property name"+JSON.stringify(e));s.current.splice(r,1)},i.prototype.removeBeforeOwnPropertyChangeListener=function(e,t){return i.removeOwnPropertyChangeListener(this,e,t,!0)},i.prototype.dispatchOwnPropertyChange=function(e,t,n){var a,r=i.getOwnPropertyChangeDescriptor(this,e);if(!r.isActive){r.isActive=!0,a=n?r.willChangeListeners:r.changeListeners;try{s(a,e,t,this)}finally{r.isActive=!1}}},i.prototype.dispatchBeforeOwnPropertyChange=function(e,t){return i.dispatchOwnPropertyChange(this,e,t,!0)},i.prototype.makePropertyObservable=function(e){var t=this.__overriddenPropertyDescriptors__;if(t){if(a.call(t,e))return}else{if(Array.isArray(this))return;if(!Object.isExtensible(this))throw Error("Can't make property "+JSON.stringify(e)+" observable on "+this+" because object is not extensible");t={},Object.defineProperty(this,"__overriddenPropertyDescriptors__",{value:t,enumerable:!1,writable:!0,configurable:!0})}var n;"object"==typeof this.__state__?n=this.__state__:(n={},Object.defineProperty(this,"__state__",{value:n,writable:!0,enumerable:!1})),n[e]=this[e];var i,r=this;do{if(i=Object.getOwnPropertyDescriptor(r,e))break;r=Object.getPrototypeOf(r)}while(r);if(i){if(!i.configurable)return;if(!i.writable&&!i.set)return}else i={value:void 0,enumerable:!0,writable:!0,configurable:!0};t[e]=i;var o;o="value"in i?{get:function(){return i.value},set:function(t){var a,r;if(t!==i.value){if(a=this.__propertyChangeListeners__[e],r=a.isActive,!r){a.isActive=!0;try{s(a.willChangeListeners,e,i.value,this)}finally{}}if(i.value=t,n[e]=t,!r)try{s(a.changeListeners,e,t,this)}finally{a.isActive=!1}}},enumerable:i.enumerable,configurable:!0}:{get:i.get,set:function(t){var a,r,o=this[e];if(i.set.call(this,t),t=this[e],t!==o){if(a=this.__propertyChangeListeners__[e],r=a.isActive,!r){a.isActive=!0;try{s(a.willChangeListeners,e,o,this)}finally{}}if(n[e]=t,!r)try{s(a.changeListeners,e,t,this)}finally{a.isActive=!1}}},enumerable:i.enumerable,configurable:!0},Object.defineProperty(this,e,o)},i.getOwnPropertyChangeDescriptor=function(e,t){return e.getOwnPropertyChangeDescriptor?e.getOwnPropertyChangeDescriptor(t):i.prototype.getOwnPropertyChangeDescriptor.call(e,t)},i.hasOwnPropertyChangeDescriptor=function(e,t){return e.hasOwnPropertyChangeDescriptor?e.hasOwnPropertyChangeDescriptor(t):i.prototype.hasOwnPropertyChangeDescriptor.call(e,t)},i.addOwnPropertyChangeListener=function(e,t,n,s){return Object.isObject(e)?e.addOwnPropertyChangeListener?e.addOwnPropertyChangeListener(t,n,s):i.prototype.addOwnPropertyChangeListener.call(e,t,n,s):void 0},i.removeOwnPropertyChangeListener=function(e,t,n,s){return Object.isObject(e)?e.removeOwnPropertyChangeListener?e.removeOwnPropertyChangeListener(t,n,s):i.prototype.removeOwnPropertyChangeListener.call(e,t,n,s):void 0},i.dispatchOwnPropertyChange=function(e,t,n,s){return Object.isObject(e)?e.dispatchOwnPropertyChange?e.dispatchOwnPropertyChange(t,n,s):i.prototype.dispatchOwnPropertyChange.call(e,t,n,s):void 0},i.addBeforeOwnPropertyChangeListener=function(e,t,n){return i.addOwnPropertyChangeListener(e,t,n,!0)},i.removeBeforeOwnPropertyChangeListener=function(e,t,n){return i.removeOwnPropertyChangeListener(e,t,n,!0)},i.dispatchBeforeOwnPropertyChange=function(e,t,n){return i.dispatchOwnPropertyChange(e,t,n,!0)},i.makePropertyObservable=function(e,t){return e.makePropertyObservable?e.makePropertyObservable(t):i.prototype.makePropertyObservable.call(e,t)}}});